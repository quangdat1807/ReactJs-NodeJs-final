{"ast":null,"code":"// import React, { useContext, useEffect, useState } from 'react'\n// import Select from \"react-select\";\n// import Menu from '../home/Menu'\n// import { Context } from '../../contexts/Context'\n// import { Link } from \"react-router-dom\";\n// import CurrencyFormat from 'react-currency-format';\n// import { useForm } from 'react-hook-form';\n// import axios from 'axios';\n// import useLocationForm from \"./useLocationForm\";\n// import './css/checkout.css'\n// import Footer from '../home/Footer';\n// export const CheckOut = () => {\n//   const { setValue, register, handleSubmit, formState: { errors } } = useForm();\n//   const { cart, total, getTotal, reduction, increase, removeProduct } = useContext(Context);\n//   const { state, onCitySelect, onDistrictSelect, onWardSelect } =\n//     useLocationForm(true);\n//   const [isCart, setIsCart] = useState(false);\n//   const [cartTrue, setCartTrue] = useState(false);\n//   const {\n//     cityOptions,\n//     districtOptions,\n//     wardOptions,\n//     selectedCity,\n//     selectedDistrict,\n//     selectedWard,\n//   } = state;\n//   useEffect(() => {\n//     getTotal();\n//   }, [])\n//   const CartData = () => {\n//     function onSubmit(data) {\n//       if (cart.length === 0) {\n//         setIsCart(true)\n//       } else {\n//         setIsCart(false)\n//       }\n//       console.log(cart)\n//       let product = []\n//       for (let i = 0; i < cart.length; i++) {\n//         product.push({\n//           id: cart[i].id,\n//           quantity: cart[i].quantity,\n//         })\n//       }\n//       const postData = async () => {\n//         await axios.post(\"http://localhost:8080/checkout\", {\n//           contact: {\n//             fullName: \"\"\n//           },\n//           products: product\n//         })\n//           .then(result => {\n//             console.log(result);\n//           })\n//           .catch((error) => {\n//             console.log(error);\n//           });\n//       }\n//       postData();\n//     }\n//     // useEffect(() => {\n//     //   'use strict'\n//     //   window.addEventListener('load', function () {\n//     //     // Fetch all the forms we want to apply custom Bootstrap validation styles to\n//     //     var forms = document.getElementsByClassName('needs-validation')\n//     //     // Loop over them and prevent submission\n//     //     Array.prototype.filter.call(forms, function (form) {\n//     //       form.addEventListener('submit', function (event) {\n//     //         if (form.checkValidity() === false) {\n//     //           event.preventDefault()\n//     //           event.stopPropagation()\n//     //         }\n//     //         form.classList.add('was-validated')\n//     //       }, false)\n//     //     })\n//     //   }, false)\n//     // }, [])\n//     return (\n//       <>\n//           <div className=\"py-5\" >\n//             <Link to={\"/products/1\"} style={{ display: 'flex' }}>\n//               <i className=\"bi bi-chevron-left\" style={{ fontSize: '25px', color: 'black' }}></i>\n//               <strong className=\"text-muted\">Quay lại</strong></Link>\n//           </div>\n//           <div className=\"row\" onSubmit={handleSubmit(onSubmit)}>\n//             <div className=\"col-md-4 order-md-3 mb-4\">\n//               <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\n//                 <span className=\"text-muted\">Giỏ hàng</span>\n//                 <span className=\"badge badge-secondary badge-pill\" style={{ fontSize: \"20px\", color: \"black\" }}>{cart.length}</span>\n//               </h4>\n//               <ul className=\"list-group mb-3 sticky-top\">\n//                 {cart.map(item => (\n//                   <li key={item.id} className=\"list-group-item d-flex justify-content-between lh-condensed\">\n//                     <div className=''>\n//                       <h6 className=\"my-0\" >{item.name}</h6>\n//                       <div className=\"btn-group me-2\" role=\"group\" aria-label=\"First group\">\n//                         <button type='button' className=\"btn btn-outline-secondary up-down\" onClick={() => reduction(item.id)}> - </button>\n//                         <button type=\"button\" className=\"btn btn-outline-secondary up-down\" >{item.quantity}</button>\n//                         <button type='button' className=\"btn btn-outline-secondary up-down\" onClick={() => increase(item.id)}> + </button>\n//                       </div>\n//                     </div>\n//                     <CurrencyFormat value={item.price * item.quantity} displayType={'text'} thousandSeparator={true} suffix={' ₫'} renderText={value =>\n//                       <span className=\"price-number\">{value}</span>} />\n//                     <div className=\"remove-product\" onClick={() => removeProduct(item.id)}><i className=\"bi bi-dash-circle\"></i></div>\n//                   </li>\n//                 ))}\n//                 <li className=\"list-group-item d-flex justify-content-between\">\n//                   <span>Tổng giá: </span>\n//                   <CurrencyFormat value={total} displayType={'text'} thousandSeparator={true} suffix={' ₫'} renderText={value =>\n//                     <strong className=\"price-total\">{value}</strong>} />\n//                 </li>\n//               </ul>\n//             </div>\n//             <div className=\"col-md-1\">\n//             </div>\n//             <div className=\"col-md-6 order-md-1\">\n//               <h4 className=\"mb-3\">Thông tin đặt hàng</h4>\n//               <form className=\"needs-validation\">\n//                 <div className=\"row\">\n//                   <div className=\"col-md-6 mb-3\">\n//                     <input type=\"text\" className=\"form-control\" id=\"fullName\" placeholder=\"Họ và tên*\" required=\"\" {...register(\"name\")} />\n//                   </div>\n//                   <div className=\"col-md-6 mb-3\">\n//                     <input type=\"text\" className=\"form-control\" id=\"phoneNumber\" placeholder=\"Số điện thoại*\" required=\"\" {...register(\"phoneNumber\")} />\n//                   </div>\n//                 </div>\n//                 <div className=\"row\">\n//                   <div className=\"col-md-4 mb-3\">\n//                     <Select\n//                       name=\"cityId\"\n//                       key={`cityId_${selectedCity?.value}`}\n//                       isDisabled={cityOptions.length === 0}\n//                       options={cityOptions}\n//                       onChange={(option) => onCitySelect(option)}\n//                       defaultValue={selectedCity}\n//                       placeholder=\"Tỉnh/Thành\"\n//                     />\n//                   </div>\n//                   <div className=\"col-md-4 mb-3\">\n//                     <Select\n//                       name=\"districtId\"\n//                       key={`districtId_${selectedDistrict?.value}`}\n//                       isDisabled={districtOptions.length === 0}\n//                       options={districtOptions}\n//                       onChange={(option) => onDistrictSelect(option)}\n//                       defaultValue={selectedDistrict}\n//                       placeholder=\"Quận/Huyện\"\n//                     />\n//                   </div>\n//                   <div className=\"col-md-4 mb-3\">\n//                     <Select\n//                       name=\"wardId\"\n//                       key={`wardId_${selectedWard?.value}`}\n//                       isDisabled={wardOptions.length === 0}\n//                       options={wardOptions}\n//                       onChange={(option) => onWardSelect(option)}\n//                       defaultValue={selectedWard}\n//                       placeholder=\"Phường/Xã\"\n//                     />\n//                   </div>\n//                 </div>\n//                 <div className=\"mb-3\">\n//                   <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"Địa chỉ nhận hàng*\" required=\"\" {...register(\"address\")} />\n//                 </div>\n//                 <div className=\"mb-3\">\n//                   <input type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"Email\" {...register(\"email\")} />\n//                 </div>\n//                 <hr className=\"mb-4\" />\n//                 <div className=\"row\">\n//                   <div className=\"col-md-12 mb-6\">\n//                     <textarea className=\"col-md-12\" placeholder=\" Ghi chú\"></textarea>\n//                   </div>\n//                 </div>\n//                 <hr className=\"mb-4\" />\n//                 <button className=\"btn btn-primary btn-lg btn-block\" type=\"submit\"  >Đặt hàng</button>\n//               </form>\n//             </div>\n//           </div>\n//       </>\n//     )\n//   }\n//   const CartEmpty = () => {\n//     return (\n//       <>\n//       <div className=\"ErrContainer\">\n//         <h4>Error</h4>\n//       </div>\n//       <div className=\"messageNotice\">\n//         <strong>An error occurred while processing your request (empty cart)</strong>\n//       </div>\n//       </>\n//     )\n//   }\n//   return (\n//     <>\n//     <Menu/>\n//     <div className=\"\">\n//       {isCart ? <CartData/> : <CartEmpty/>}</div>\n//       <Footer/>\n//     </>\n//   )\n// }","map":{"version":3,"names":[],"sources":["D:/TMA-React/demoTest/Demo/client/src/components/checkout/CheckOut.js"],"sourcesContent":["// import React, { useContext, useEffect, useState } from 'react'\r\n// import Select from \"react-select\";\r\n// import Menu from '../home/Menu'\r\n// import { Context } from '../../contexts/Context'\r\n// import { Link } from \"react-router-dom\";\r\n// import CurrencyFormat from 'react-currency-format';\r\n// import { useForm } from 'react-hook-form';\r\n// import axios from 'axios';\r\n// import useLocationForm from \"./useLocationForm\";\r\n// import './css/checkout.css'\r\n// import Footer from '../home/Footer';\r\n\r\n\r\n// export const CheckOut = () => {\r\n//   const { setValue, register, handleSubmit, formState: { errors } } = useForm();\r\n//   const { cart, total, getTotal, reduction, increase, removeProduct } = useContext(Context);\r\n\r\n//   const { state, onCitySelect, onDistrictSelect, onWardSelect } =\r\n//     useLocationForm(true);\r\n\r\n//   const [isCart, setIsCart] = useState(false);\r\n//   const [cartTrue, setCartTrue] = useState(false);\r\n\r\n//   const {\r\n//     cityOptions,\r\n//     districtOptions,\r\n//     wardOptions,\r\n//     selectedCity,\r\n//     selectedDistrict,\r\n//     selectedWard,\r\n//   } = state;\r\n\r\n//   useEffect(() => {\r\n//     getTotal();\r\n//   }, [])\r\n\r\n//   const CartData = () => {\r\n//     function onSubmit(data) {\r\n//       if (cart.length === 0) {\r\n//         setIsCart(true)\r\n//       } else {\r\n//         setIsCart(false)\r\n//       }\r\n//       console.log(cart)\r\n//       let product = []\r\n//       for (let i = 0; i < cart.length; i++) {\r\n//         product.push({\r\n//           id: cart[i].id,\r\n//           quantity: cart[i].quantity,\r\n//         })\r\n//       }\r\n//       const postData = async () => {\r\n//         await axios.post(\"http://localhost:8080/checkout\", {\r\n//           contact: {\r\n//             fullName: \"\"\r\n//           },\r\n//           products: product\r\n//         })\r\n//           .then(result => {\r\n//             console.log(result);\r\n//           })\r\n//           .catch((error) => {\r\n//             console.log(error);\r\n//           });\r\n//       }\r\n//       postData();\r\n//     }\r\n\r\n//     // useEffect(() => {\r\n//     //   'use strict'\r\n\r\n//     //   window.addEventListener('load', function () {\r\n//     //     // Fetch all the forms we want to apply custom Bootstrap validation styles to\r\n//     //     var forms = document.getElementsByClassName('needs-validation')\r\n\r\n//     //     // Loop over them and prevent submission\r\n//     //     Array.prototype.filter.call(forms, function (form) {\r\n//     //       form.addEventListener('submit', function (event) {\r\n//     //         if (form.checkValidity() === false) {\r\n//     //           event.preventDefault()\r\n//     //           event.stopPropagation()\r\n//     //         }\r\n//     //         form.classList.add('was-validated')\r\n//     //       }, false)\r\n//     //     })\r\n//     //   }, false)\r\n//     // }, [])\r\n\r\n\r\n//     return (\r\n//       <>\r\n        \r\n//           <div className=\"py-5\" >\r\n//             <Link to={\"/products/1\"} style={{ display: 'flex' }}>\r\n//               <i className=\"bi bi-chevron-left\" style={{ fontSize: '25px', color: 'black' }}></i>\r\n//               <strong className=\"text-muted\">Quay lại</strong></Link>\r\n//           </div>\r\n//           <div className=\"row\" onSubmit={handleSubmit(onSubmit)}>\r\n//             <div className=\"col-md-4 order-md-3 mb-4\">\r\n//               <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n//                 <span className=\"text-muted\">Giỏ hàng</span>\r\n//                 <span className=\"badge badge-secondary badge-pill\" style={{ fontSize: \"20px\", color: \"black\" }}>{cart.length}</span>\r\n//               </h4>\r\n\r\n//               <ul className=\"list-group mb-3 sticky-top\">\r\n//                 {cart.map(item => (\r\n//                   <li key={item.id} className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n//                     <div className=''>\r\n//                       <h6 className=\"my-0\" >{item.name}</h6>\r\n//                       <div className=\"btn-group me-2\" role=\"group\" aria-label=\"First group\">\r\n//                         <button type='button' className=\"btn btn-outline-secondary up-down\" onClick={() => reduction(item.id)}> - </button>\r\n//                         <button type=\"button\" className=\"btn btn-outline-secondary up-down\" >{item.quantity}</button>\r\n//                         <button type='button' className=\"btn btn-outline-secondary up-down\" onClick={() => increase(item.id)}> + </button>\r\n//                       </div>\r\n//                     </div>\r\n\r\n//                     <CurrencyFormat value={item.price * item.quantity} displayType={'text'} thousandSeparator={true} suffix={' ₫'} renderText={value =>\r\n//                       <span className=\"price-number\">{value}</span>} />\r\n//                     <div className=\"remove-product\" onClick={() => removeProduct(item.id)}><i className=\"bi bi-dash-circle\"></i></div>\r\n//                   </li>\r\n//                 ))}\r\n\r\n//                 <li className=\"list-group-item d-flex justify-content-between\">\r\n//                   <span>Tổng giá: </span>\r\n//                   <CurrencyFormat value={total} displayType={'text'} thousandSeparator={true} suffix={' ₫'} renderText={value =>\r\n//                     <strong className=\"price-total\">{value}</strong>} />\r\n\r\n//                 </li>\r\n//               </ul>\r\n//             </div>\r\n//             <div className=\"col-md-1\">\r\n//             </div>\r\n//             <div className=\"col-md-6 order-md-1\">\r\n//               <h4 className=\"mb-3\">Thông tin đặt hàng</h4>\r\n//               <form className=\"needs-validation\">\r\n//                 <div className=\"row\">\r\n\r\n//                   <div className=\"col-md-6 mb-3\">\r\n\r\n//                     <input type=\"text\" className=\"form-control\" id=\"fullName\" placeholder=\"Họ và tên*\" required=\"\" {...register(\"name\")} />\r\n//                   </div>\r\n//                   <div className=\"col-md-6 mb-3\">\r\n//                     <input type=\"text\" className=\"form-control\" id=\"phoneNumber\" placeholder=\"Số điện thoại*\" required=\"\" {...register(\"phoneNumber\")} />\r\n//                   </div>\r\n//                 </div>\r\n\r\n//                 <div className=\"row\">\r\n//                   <div className=\"col-md-4 mb-3\">\r\n//                     <Select\r\n//                       name=\"cityId\"\r\n//                       key={`cityId_${selectedCity?.value}`}\r\n//                       isDisabled={cityOptions.length === 0}\r\n//                       options={cityOptions}\r\n//                       onChange={(option) => onCitySelect(option)}\r\n//                       defaultValue={selectedCity}\r\n//                       placeholder=\"Tỉnh/Thành\"\r\n//                     />\r\n//                   </div>\r\n//                   <div className=\"col-md-4 mb-3\">\r\n//                     <Select\r\n//                       name=\"districtId\"\r\n//                       key={`districtId_${selectedDistrict?.value}`}\r\n//                       isDisabled={districtOptions.length === 0}\r\n//                       options={districtOptions}\r\n//                       onChange={(option) => onDistrictSelect(option)}\r\n//                       defaultValue={selectedDistrict}\r\n//                       placeholder=\"Quận/Huyện\"\r\n//                     />\r\n//                   </div>\r\n//                   <div className=\"col-md-4 mb-3\">\r\n//                     <Select\r\n//                       name=\"wardId\"\r\n//                       key={`wardId_${selectedWard?.value}`}\r\n//                       isDisabled={wardOptions.length === 0}\r\n//                       options={wardOptions}\r\n//                       onChange={(option) => onWardSelect(option)}\r\n//                       defaultValue={selectedWard}\r\n//                       placeholder=\"Phường/Xã\"\r\n//                     />\r\n//                   </div>\r\n\r\n//                 </div>\r\n//                 <div className=\"mb-3\">\r\n//                   <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"Địa chỉ nhận hàng*\" required=\"\" {...register(\"address\")} />\r\n//                 </div>\r\n//                 <div className=\"mb-3\">\r\n//                   <input type=\"email\" className=\"form-control\" id=\"email\" placeholder=\"Email\" {...register(\"email\")} />\r\n//                 </div>\r\n//                 <hr className=\"mb-4\" />\r\n//                 <div className=\"row\">\r\n//                   <div className=\"col-md-12 mb-6\">\r\n//                     <textarea className=\"col-md-12\" placeholder=\" Ghi chú\"></textarea>\r\n//                   </div>\r\n//                 </div>\r\n//                 <hr className=\"mb-4\" />\r\n//                 <button className=\"btn btn-primary btn-lg btn-block\" type=\"submit\"  >Đặt hàng</button>\r\n//               </form>\r\n//             </div>\r\n//           </div>\r\n      \r\n//       </>\r\n//     )\r\n//   }\r\n\r\n//   const CartEmpty = () => {\r\n//     return (\r\n//       <>\r\n//       <div className=\"ErrContainer\">\r\n//         <h4>Error</h4>\r\n//       </div>\r\n//       <div className=\"messageNotice\">\r\n//         <strong>An error occurred while processing your request (empty cart)</strong>\r\n//       </div>\r\n//       </>\r\n//     )\r\n//   }\r\n\r\n//   return (\r\n//     <>\r\n//     <Menu/>\r\n//     <div className=\"\">\r\n//       {isCart ? <CartData/> : <CartEmpty/>}</div>\r\n//       <Footer/>\r\n//     </>\r\n//   )\r\n\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}